- hosts: rancher
  gather_facts: False
  tasks: 
    - name: install python-docker
      shell: sudo python3 -m pip install docker-py docker

    - name: launch rancher
      community.docker.docker_container:
        name: rancher
        state: started
        image: '2.3.3'
        pull: true
        privileged: yes
        restart_policy: unless-stopped
        ports:
          - "8080:80"
          - "8443:443"
        volumes:
          - "/host/rancher:/var/lib/rancher"
          - "/rancher_audit:/var/log/auditlog"

